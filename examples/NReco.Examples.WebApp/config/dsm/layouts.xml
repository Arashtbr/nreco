<components xmlns:xi="http://www.w3.org/2003/XInclude">
	
	<views xmlns="urn:schemas-nreco:nreco:web:layout:v1">
		<form name="PageForm" caption="Page">
			<datasources>
				<dalc id="pageDS" sourcename="pages"/>
			</datasources>
			<action name="inserted">
				<redirect><route name="PageForm"/></redirect>
			</action>
			
			<field name="title" caption="Title">
				<editor>
					<textbox/>
					<validators>
						<required/>
						<regex>^[a-zA-Z][a-zA-Z0-9_-]*$</regex>
					</validators>
				</editor>
			</field>

			<field name="content_type" caption="Type">
				<editor>
					<dropdownlist lookup="pageTypesLookup"/>
				</editor>
			</field>
			
		</form>

		<list name="PageList" caption="Pages">
			<datasources>
				<dalc id="pageDS" sourcename="pages"/>
			</datasources>
			<field caption="Title" name="title"/>
			<field>
				<link caption="View">
					<url><route name="PageForm"/></url>
				</link>
				<linkbutton caption="Delete" command="Delete"/>
			</field>
		</list>
		
	</views>
</components>