<components xmlns:r="urn:schemas-nreco:web:routing:v1">

	<routes name="webRoutes" xmlns="urn:schemas-nreco:web:routing:v1">

		<route pattern="login.aspx" handler="sitePageRouteHandler">
			<token key="main">~/templates/Login.ascx</token>
		</route>

		<route pattern="register.aspx" handler="sitePageRouteHandler">
			<token key="main">~/templates/Register.ascx</token>
		</route>

		<route pattern="account.aspx" handler="sitePageRouteHandler">
			<token key="main">~/templates/AccountList.ascx</token>
		</route>
		<route pattern="account.aspx/{id}" handler="sitePageRouteHandler">
			<token key="main">~/templates/AccountDetails.ascx</token>
			<value key="id" regex="[0-9]+"/>
		</route>

		<route name="pageNew" pattern="page.aspx/new" handler="sitePageRouteHandler">
			<token key="main">~/templates/PageDetails.ascx</token>
		</route>
		
		<route name="pageDetails" pattern="page.aspx/{title}" handler="sitePageRouteHandler">
			<token key="main">~/templates/PageDetails.ascx</token>
			<value key="title" regex="^(?!new$)[a-zA-Z][a-zA-Z0-9_-]*"/>
		</route>

	</routes>

	<r:page-handler name="sitePageRouteHandler" path="~/pages/site.aspx"/>
</components>